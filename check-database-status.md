# 数据库状态检查指南

## 🔍 问题诊断

当前问题：前端使用的群组ID `3d8674136899109b0160324439cd38eb` 在数据库中不存在。

## 📋 检查步骤

### 步骤1: 检查数据库中的群组
1. 打开微信开发者工具
2. 进入云开发控制台
3. 选择"数据库" → "Groups" 集合
4. 查看是否有以下5个预置群聊：
   - 情绪调节小站
   - 职场解压圈
   - 树洞夜聊
   - 创意灵感集
   - 学习互助组

### 步骤2: 记录正确的群组ID
1. 在Groups集合中，找到"情绪调节小站"
2. 复制其 `_id` 字段的值
3. 这个ID应该与前端使用的不同

### 步骤3: 刷新前端群组列表
1. 在小程序中，下拉刷新首页
2. 或者关闭小程序重新打开
3. 查看控制台是否有新的群组ID

### 步骤4: 验证群组ID匹配
1. 比较前端使用的群组ID
2. 与数据库中的实际群组ID
3. 确认两者是否一致

## 🚨 可能的原因

1. **缓存问题**: 前端缓存了旧的群组ID
2. **数据不同步**: 数据库更新后，前端没有刷新
3. **ID冲突**: 旧数据与新数据ID不匹配

## 💡 解决方案

### 方案1: 强制刷新（推荐）
1. 关闭小程序
2. 重新打开
3. 检查首页群组列表

### 方案2: 手动更新群组ID
如果方案1不行，可以：
1. 在数据库中删除旧的群组数据
2. 重新运行 `init-database` 云函数
3. 刷新前端

### 方案3: 检查云函数
确认 `chat-list-groups` 云函数正常工作：
1. 在云函数页面测试该函数
2. 查看返回的群组数据

## 📱 预期结果

修复后应该看到：
- 首页显示5个预置群聊
- 群组ID与数据库中的一致
- 能正常进入群聊页面
- 消息加载正常

## 🔧 如果问题持续

请提供：
1. 数据库中Groups集合的截图
2. 前端控制台的完整日志
3. `chat-list-groups` 云函数的测试结果
