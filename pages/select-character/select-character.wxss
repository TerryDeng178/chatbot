/* 角色选择页样式 - 像素级还原V7原型 */
@import '/app.wxss';

.character-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: var(--color-bg-page); /* F7F8FA - V7原型精确颜色 */
}

/* 顶部导航栏 - 按照V7设计 */
.header {
  height: 112rpx; /* 56px = 112rpx */
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-card); /* FFFFFF */
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);
  flex-shrink: 0;
  position: relative;
}

.header-title {
  color: var(--color-text-primary); /* 303133 */
  font-weight: 700;
  font-size: 36rpx; /* 18px = 36rpx */
  line-height: 1.5;
}

/* 主内容区域 */
.content {
  flex: 1;
  overflow-y: auto;
  -ms-overflow-style: none;
  scrollbar-width: none;
  padding: 32rpx; /* 16px = 32rpx */
  position: relative;
  padding-bottom: 240rpx; /* 为底部导航留空间 */
}

.content::-webkit-scrollbar {
  display: none;
}

/* 筛选区域 - 像素级还原V7原型 */
.filter-area {
  display: flex;
  padding: 32rpx; /* V7原型: 16px = 32rpx */
  background: #FFFFFF; /* V7原型精确背景色 */
  border-radius: 32rpx; /* V7原型: 16px = 32rpx */
  margin-bottom: 32rpx; /* V7原型: 16px = 32rpx */
}

.filter-tag {
  flex: 1;
  text-align: center;
  font-size: 28rpx; /* V7原型: 14px = 28rpx */
  padding: 12rpx 0; /* V7原型: 6px = 12rpx */
  border-radius: 16rpx; /* V7原型: 8px = 16rpx */
  background: #F2F2F7; /* V7原型精确背景色 */
  margin: 0 10rpx; /* V7原型: 5px = 10rpx */
  color: #909399; /* V7原型精确颜色 */
  cursor: pointer;
  transition: all 0.3s ease;
}

.filter-tag:first-child {
  margin-left: 0;
}

.filter-tag:last-child {
  margin-right: 0;
}

.filter-tag.active {
  background: #7C4DFF; /* V7原型精确激活背景色 */
  color: #FFFFFF; /* V7原型精确激活文字色 */
}

/* 角色网格 - 像素级还原V7原型 */
.character-scroll {
  flex: 1;
}

.role-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 32rpx; /* V7原型: 16px = 32rpx */
  padding: 8rpx 0; /* V7原型: 4px = 8rpx */
}

/* 角色卡片 - 像素级还原V7原型 */
.role-card {
  padding: 32rpx; /* V7原型: 16px = 32rpx */
  transition: all 0.2s ease;
  cursor: pointer;
  position: relative;
  text-align: center;
  background: #FFFFFF; /* 确保白色背景 */
  border-radius: 32rpx; /* V7原型: 16px = 32rpx */
  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.03); /* V7原型精确阴影 */
  margin-bottom: 0; /* 移除额外边距，使用grid gap */
}

.role-card:hover {
  transform: translateY(-8rpx); /* V7原型: -4px = -8rpx */
  box-shadow: 0 20rpx 40rpx rgba(124, 77, 255, 0.1); /* V7原型精确悬停阴影 */
}

/* 角色头像 - 像素级还原V7原型 */
.role-avatar {
  margin: 0 auto 24rpx; /* V7原型: 12px = 24rpx */
  width: 140rpx; /* V7原型: 70px = 140rpx */
  height: 140rpx; /* V7原型: 70px = 140rpx */
  border-radius: 32rpx; /* V7原型: 16px = 32rpx */
  background: linear-gradient(135deg, #86C9FC, #7C4DFF); /* V7原型精确渐变 */
  display: flex;
  align-items: center;
  justify-content: center;
  color: #FFFFFF;
}

.role-avatar .role-icon {
  font-size: 72rpx; /* V7原型: 36px = 72rpx */
  color: #FFFFFF;
}

/* 角色标题和描述 - 像素级还原V7原型 */
.role-title {
  font-size: 32rpx; /* V7原型: 16px = 32rpx */
  font-weight: 600;
  text-align: center;
  margin-bottom: 12rpx; /* V7原型: 6px = 12rpx */
  color: #303133; /* V7原型精确颜色 */
}

.role-desc {
  font-size: 24rpx; /* V7原型: 12px = 24rpx */
  color: #909399; /* V7原型精确颜色 */
  text-align: center;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 解锁状态指示器 */
.unlock-indicator {
  position: absolute;
  top: 16rpx; /* 8px = 16rpx */
  right: 16rpx; /* 8px = 16rpx */
  width: 32rpx; /* 16px = 32rpx */
  height: 32rpx; /* 16px = 32rpx */
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
}

.unlock-indicator .lock-icon {
  font-size: 20rpx; /* 调整emoji大小 */
  color: #FFFFFF;
}

/* 编辑引导 */
.edit-hint {
  margin-top: 12rpx;
  font-size: 22rpx;
  color: #7C4DFF;
  opacity: 0.85;
}

/* 编辑表单通用样式 */
.form-row { display: flex; align-items: center; justify-content: space-between; padding: 20rpx 8rpx; }
.form-label { font-size: 28rpx; color: var(--color-text-primary); }
.picker-value { font-size: 28rpx; color: var(--color-text-secondary); }

/* 底部标签栏 - 像素级还原V7原型 */
.bottom-tab-bar {
  height: 160rpx; /* V7原型: 80px = 160rpx */
  background: #FFFFFF; /* V7原型精确背景色 */
  display: flex;
  align-items: center;
  justify-content: space-around;
  border-top: 1rpx solid #EBEDF0; /* V7原型精确边框色 */
  flex-shrink: 0;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding-bottom: env(safe-area-inset-bottom);
  z-index: 50;
}

.tab-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  text-align: center;
}

.tab-item.active .tab-icon {
  color: #7C4DFF; /* V7原型精确激活颜色 */
  transform: scale(1.1); /* 激活状态放大效果 */
}

.tab-item.active .tab-text {
  color: #7C4DFF; /* V7原型精确激活颜色 */
}

.tab-icon {
  font-size: 48rpx; /* V7原型: 24px = 48rpx - 调整图标大小 */
  color: #909399; /* V7原型精确颜色 */
  margin-bottom: 8rpx; /* V7原型: 4px = 8rpx */
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  line-height: 1;
}

.tab-text {
  font-size: 22rpx; /* V7原型: 11px = 22rpx */
  color: #909399; /* V7原型精确颜色 */
}

/* 角色详情弹窗 */
.character-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.character-modal.show {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  width: 85%; /* V7原型: 稍微增加宽度 */
  max-width: 640rpx; /* V7原型: 320px = 640rpx */
  background: var(--color-bg-card);
  border-radius: 32rpx; /* V7原型: 保持16px = 32rpx */
  overflow: hidden;
  transform: translateY(100rpx);
  transition: all 0.3s ease;
  box-shadow: 0 20rpx 60rpx rgba(124, 77, 255, 0.15); /* V7原型精确阴影 */
}

.character-modal.show .modal-content {
  transform: translateY(0);
}

.modal-header {
  position: relative;
  padding: 56rpx 32rpx 32rpx; /* V7原型: 增加垂直间距 */
  text-align: center;
  background: linear-gradient(135deg, #BB86FC, #7C4DFF); /* V7原型精确渐变色 */
}

.modal-avatar {
  width: 140rpx; /* V7原型: 增大头像 70px = 140rpx */
  height: 140rpx;
  border-radius: 32rpx; /* V7原型: 16px = 32rpx */
  background: rgba(255, 255, 255, 0.15); /* V7原型: 调整透明度 */
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 24rpx; /* V7原型: 增加底部间距 */
}

.modal-avatar .modal-icon-emoji {
  font-size: 72rpx; /* V7原型: 增大图标 36px = 72rpx */
  color: #FFFFFF;
}

.modal-close {
  position: absolute;
  top: 32rpx; /* V7原型: 16px = 32rpx */
  right: 32rpx; /* V7原型: 16px = 32rpx */
  width: 56rpx; /* V7原型: 28px = 56rpx */
  height: 56rpx;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.25); /* V7原型: 增加对比度 */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease; /* V7原型: 添加过渡效果 */
}

.modal-close .close-emoji {
  font-size: 28rpx; /* V7原型: 增大关闭按钮 14px = 28rpx */
  color: #FFFFFF;
  font-weight: bold;
}

.modal-close:hover {
  background: rgba(255, 255, 255, 0.35); /* V7原型: 悬停效果 */
  transform: scale(1.1);
}

.modal-body {
  padding: 40rpx 32rpx; /* V7原型: 增加垂直间距 */
  text-align: center;
}

.modal-name {
  font-size: 36rpx; /* V7原型: 增大标题 18px = 36rpx */
  font-weight: 700; /* V7原型: 更粗字重 */
  color: var(--color-text-primary);
  margin-bottom: 20rpx; /* V7原型: 增加间距 */
}

.modal-desc {
  font-size: 30rpx; /* V7原型: 调整描述文字 15px = 30rpx */
  color: var(--color-text-secondary);
  margin-bottom: 24rpx; /* V7原型: 减少间距为模型信息留空间 */
  line-height: 1.5;
  padding: 0 16rpx; /* V7原型: 添加水平间距 */
}

/* 模型信息样式 */
.modal-model-info {
  margin-bottom: 24rpx;
  display: flex;
  justify-content: center;
}

.model-tag {
  display: inline-block;
  padding: 8rpx 20rpx; /* V7原型: 精确间距 */
  background: linear-gradient(135deg, rgba(124, 77, 255, 0.1), rgba(187, 134, 252, 0.1));
  border: 2rpx solid rgba(124, 77, 255, 0.2);
  border-radius: 20rpx; /* V7原型: 胶囊形状 */
  font-size: 24rpx; /* V7原型: 12px = 24rpx */
  color: #7C4DFF;
  font-weight: 500;
}

.modal-detail {
  font-size: 28rpx; /* V7原型: 调整详情文字 14px = 28rpx */
  color: var(--color-text-secondary);
  line-height: 1.6;
  padding: 32rpx 24rpx; /* V7原型: 增加垂直间距 */
  background: var(--color-bg-page);
  border-radius: 20rpx; /* V7原型: 增大圆角 10px = 20rpx */
  margin: 0 8rpx; /* V7原型: 添加水平间距 */
}

.modal-footer {
  display: flex;
  padding: 24rpx 32rpx 40rpx; /* V7原型: 调整间距 */
  gap: 32rpx; /* V7原型: 增加按钮间距 */
}

.modal-btn {
  flex: 1;
  height: 96rpx; /* V7原型: 增加按钮高度 48px = 96rpx */
  border-radius: 24rpx; /* V7原型: 12px = 24rpx */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32rpx; /* V7原型: 增大字体 16px = 32rpx */
  font-weight: 600; /* V7原型: 增加字重 */
  cursor: pointer;
  transition: all 0.3s ease;
}

.modal-btn.cancel {
  background: var(--color-bg-page);
  color: var(--color-text-secondary);
  border: 2rpx solid var(--color-border); /* V7原型: 添加边框 */
}

.modal-btn.cancel:hover {
  background: var(--color-border); /* V7原型: 悬停效果 */
  transform: translateY(-2rpx);
}

.modal-btn.cancel:active {
  background: #E5E5E5;
  transform: translateY(0);
}

.modal-btn.confirm {
  background: linear-gradient(135deg, #BB86FC, #7C4DFF); /* V7原型: 渐变背景 */
  color: #FFFFFF;
  box-shadow: 0 8rpx 24rpx rgba(124, 77, 255, 0.3); /* V7原型: 阴影效果 */
}

.modal-btn.confirm:hover {
  background: linear-gradient(135deg, #C896FD, #8A5AFF); /* V7原型: 悬停渐变 */
  transform: translateY(-2rpx);
  box-shadow: 0 12rpx 32rpx rgba(124, 77, 255, 0.4);
}

.modal-btn.confirm:active {
  background: linear-gradient(135deg, #A676FA, #6A3DE8);
  transform: scale(0.98);
  box-shadow: 0 4rpx 16rpx rgba(124, 77, 255, 0.2);
}

.modal-btn.confirm.locked {
  background: #FF6B35;
  color: #FFFFFF;
}

.modal-btn.confirm.locked:active {
  background: #E5582B;
}

/* 空状态 */
.empty-state {
  text-align: center;
  padding: 120rpx 0;
  color: var(--color-text-secondary);
}

.empty-icon {
  font-size: 120rpx;
  margin-bottom: 24rpx;
}

.empty-text {
  font-size: 28rpx;
}