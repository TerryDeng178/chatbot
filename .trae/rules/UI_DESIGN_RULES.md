# UI 设计规范与原型需求 v0.2

**文档目的**: 本文档是“AI 心灵伙伴”小程序 UI 设计的核心依据，旨在确保产品界面与最新的原型设计（`情感AI对话小程序开发_原型界面_V7.html`）保持高度一致。本文档将作为动态更新的“活文档”，指导后续的开发与迭代。

---

## 第一章：全局设计语言 (Global Design Language)

此章节定义了贯穿整个应用的视觉基础，确保品牌一致性和用户体验的统一性。

### 1.1. 整体风格

*   **关键词**: 现代、简洁、轻盈、亲和、卡片化。
*   **核心理念**: 创造一个干净、有序、让用户感到轻松舒适的数字空间。

### 1.2. 色彩搭配 (Color Palette)

| 用途             | 颜色名称 | HEX 色值  | 描述                                                     |
| ---------------- | -------- | --------- | -------------------------------------------------------- |
| **主色调**       | 品牌紫   | `#7C4DFF` | 用于核心操作按钮、图标、选中状态等需要强调的元素。       |
| **页面背景色**   | 浅灰     | `#F0F2F5` | 应用全局背景色，营造明亮、干净的底色。                   |
| **卡片/模块背景**| 白色     | `#FFFFFF` | 用于所有内容卡片、导航栏、弹窗等。                       |
| **文本主色**     | 深灰     | `#303133` | 用于正文、标题等主要文字内容。                           |
| **文本辅色**     | 中灰     | `#909399` | 用于辅助信息、时间戳、未激活状态的文字。                 |
| **边框/分割线**  | 亮灰     | `#EBEDF0` | 用于卡片边框、分割线，定义模块边界。                     |

### 1.3. 字体与图标

*   **字体 (Typography)**: 全局使用 `Noto Sans SC` 或系统默认的无衬线字体，保证跨平台的阅读体验。
*   **图标 (Iconography)**: 采用 `Iconify` 图标库，风格统一，以线性图标为主。

### 1.4. 核心组件风格

*   **头像 (Avatar)**: 统一为**圆角矩形**，圆角半径为 8px。
*   **按钮 (Button)**:
    *   **主操作按钮 (Floating Action Button)**: 圆形，直径 60px，使用主色调，带有阴影。
    *   **普通按钮**: 圆角矩形，圆角半径约为 12px。
*   **卡片/模态框 (Card/Modal)**: 采用圆角矩形（圆角半径 16px），带有轻微的阴影效果（`box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03)`）以增加层次感。

---

## 第二章：核心页面原型需求

此章节详细描述了 MVP 阶段所需的核心页面及其关键元素，所有设计均以 `情感AI对话小程序开发_原型界面_V7.html` 为准。

### 2.1. 主界面 / 对话列表页

*   [ ] **顶部导航栏**:
    *   [ ] 标题文字：“对话列表”。
    *   [ ] 背景色：白色。
*   [ ] **页面背景**:
    *   [ ] 使用全局页面背景色（浅灰 `#F0F2F5`）。
*   [ ] **对话列表**:
    *   [ ] 列表项为独立的**卡片**样式 (`.card.chat-card`)。
    *   [ ] 卡片支持点击跳转到对应的聊天界面。
    *   [ ] **列表项元素 (从左至右)**:
        *   [ ] **角色头像**: **圆角矩形**，尺寸 52x52px。
        *   [ ] **对话信息**:
            *   [ ] 上方为**角色名称**（深灰、加粗）。
            *   [ ] 下方为**最新消息预览**（中灰）。
        *   [ ] **时间戳**: 位于卡片右上角（中灰）。
*   [ ] **浮动操作按钮**:
    *   [ ] 位于页面右下角，用于“发起新聊天”。
    *   [ ] 圆形，背景色为主色调（品牌紫 `#7C4DFF`）。
    *   [ ] 图标为“+”号。
*   [ ] **底部标签栏 (Tab Bar)**:
    *   [ ] 固定在页面底部，包含“对话”、“角色”、“设置”三个标签。
    *   [ ] 当前页面“对话”标签处于激活状态（图标和文字为品牌紫）。

### 2.2. 核心聊天界面

*   [ ] **顶部导航栏**:
    *   [ ] 左侧为“返回”图标。
    *   [ ] 中间为当前对话的 AI 角色名称。
*   [ ] **消息区域**:
    *   [ ] **用户消息气泡**:
        *   [ ] 布局于**屏幕右侧**。
        *   [ ] 背景色使用**主色调（品牌紫）**。
        *   [ ] 文本颜色为白色。
        *   [ ] 气泡为圆角矩形，右下角为直角。
    *   [ ] **AI 角色消息气泡**:
        *   [ ] 布局于**屏幕左侧**。
        *   [ ] 气泡背景色为**白色**，带亮灰色边框。
        *   [ ] 文本颜色为**文本主色（深灰）**。
        *   [ ] 气泡为圆角矩形，左下角为直角。
*   [ ] **底部输入区**:
    *   [ ] 背景色为白色。
    *   [ ] 中间为圆角矩形的**文本输入框**，背景为浅灰色。
    *   [ ] 右侧为“发送”按钮。

### 2.3. AI 角色选择页

*   [ ] **顶部导航栏**:
    *   [ ] 标题为“选择陪伴伙伴”。
*   [ ] **筛选区域**:
    *   [ ] 提供按分类（如“全部”、“情感陪伴”）筛选的标签。
    *   [ ] 选中标签背景色为主色调（品牌紫）。
*   [ ] **角色列表**:
    *   [ ] 以网格（Grid）布局平铺展示所有 AI 角色卡片。
    *   [ ] **角色卡片**为白色背景，圆角 16px，带阴影。
    *   [ ] **卡片元素**:
        *   [ ] 中央为角色的**圆角矩形头像**。
        *   [ ] 头像下方为角色**昵称**和**简介**。

---

## 第三章：从设计到开发的协作规范

本章节旨在建立一套从 UI 设计到前端开发的标准化流程，以从根本上解决“设计稿与最终产品视觉不一致”的问题，确保“所见即所得”。

### 3.1. 技术选型 (Technology Stack)

*   **前端框架**: Taro (React 版本)。
*   **UI 组件库**: 全面采用 TDesign Tona 作为官方指定的 UI 组件库。

### 3.2. 设计与开发黄金法则：rpx 规范

为了确保 UI 在不同尺寸的手机屏幕上都能完美、等比地显示，我们不使用传统的 `px` 作为单位，而是采用小程序官方推荐的响应式单位 **`rpx`** (responsive pixel)。

*   **设计基准**: 所有 UI 设计稿应以 **375px** 的屏幕宽度为基准（即 iPhone 6/7/8 的尺寸）。
*   **换算公式**: 在此基准下，设计稿上的 **1px** 恒等于代码中的 **2rpx**。这是我们之间最重要的约定。

### 3.3. 全局样式变量 (CSS Custom Properties)

为了方便维护和统一风格，开发时应将核心设计参数定义为全局 CSS 自定义属性。

```css
/* 在 app.wxss 中定义 */
page {
  --brand-primary: #7C4DFF;
  --color-bg-page: #F0F2F5;
  --color-bg-card: #FFFFFF;
  --color-text-primary: #303133;
  --color-text-secondary: #909399;
  --color-border: #EBEDF0;

  --radius-card: 16px; /* 对应 32rpx */
  --radius-avatar: 8px; /* 对应 16rpx */
  --radius-button: 12px; /* 对应 24rpx */

  --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.03);
}
```

---

## 第四章：喂给 AI 原型工具的“超级提示” (Master Prompt for AI Prototyping Tools)

**目的**: 此章节将整个文档的设计精髓提炼成一个可以直接输入给墨刀 AI 或其他原型工具的、结构化、无“开发黑话”的自然语言指令。

**核心指令 (The Master Prompt)**:

```
请为一款名为“AI 心灵伙伴”的微信小程序设计一套完整的 UI 原型。

**一、整体设计哲学与视觉风格**

1.  **核心体验**: 创造一个现代、简洁、轻盈、亲和的界面。整体采用卡片化设计，布局清晰，富有呼吸感。
2.  **色彩方案**:
    *   **主色调**: 使用“品牌紫”(#7C4DFF) 作为所有关键操作按钮、图标和选中状态的颜色。
    *   **页面背景**: 使用明亮的“浅灰”(#F0F2F5)。
    *   **内容背景**: 所有信息卡片、导航栏、弹窗等都使用纯“白色”(#FFFFFF)。
3.  **形状与图标**:
    *   **形状**: 头像统一为“圆角矩形”（圆角8px）。卡片和弹窗使用更大的圆角（16px）。
    *   **图标**: 采用 Iconify 图标库中的线性图标。

**二、需要设计的核心页面 (3个)**

请基于以上风格，按顺序生成以下三个核心页面：

**1. 对话列表页**
*   **功能**: 展示用户的对话列表。
*   **布局**:
    *   顶部导航栏，标题为“对话列表”。
    *   页面背景为浅灰色。
    *   对话列表由一个个独立的白色“卡片”组成，卡片之间有间距。
    *   右下角有一个紫色的圆形“+”号浮动按钮，用于发起新聊天。
    *   底部有一个固定的标签栏，包含“对话”、“角色”、“设置”三个入口。
*   **卡片元素**:
    *   左侧是 52x52px 的圆角矩形角色头像。
    *   中间是角色名称和最新消息预览。
    *   右上角是消息时间。

**2. 聊天对话页**
*   **功能**: 用户与 AI 角色进行聊天的界面。
*   **布局**:
    *   顶部导航栏显示 AI 角色名，并有返回按钮。
    *   消息区域背景为浅灰色。
    *   底部输入框区域为白色。
*   **消息气泡**:
    *   **用户消息**: 显示在屏幕**右侧**，气泡背景为“品牌紫”，文字为白色。
    *   **AI 消息**: 显示在屏幕**左侧**，气泡背景为“白色”，带灰色边框。

**3. 角色选择页**
*   **功能**: 展示所有可供选择的 AI 角色。
*   **布局**:
    *   顶部导航栏标题为“选择陪伴伙伴”。
    *   页面主体是白色的角色卡片，以两列网格（Grid）的形式排列。
*   **角色卡片**:
    *   包含一个较大的圆角矩形头像、角色名称和简介。
```