# 群聊云函数部署指南

## 🚀 部署新创建的 group-chat-send-message 云函数

### 方法1：通过微信开发者工具部署（推荐）

1. **打开微信开发者工具**
   - 确保项目已正确加载
   - 检查云开发环境是否连接正常

2. **部署云函数**
   - 在微信开发者工具中，找到左侧的"云开发"面板
   - 展开"云函数"选项
   - 右键点击 `group-chat-send-message` 文件夹
   - 选择"上传并部署：云端安装依赖"

3. **等待部署完成**
   - 部署过程会自动安装依赖包
   - 等待部署成功提示

### 方法2：手动安装依赖后部署

如果您想手动安装依赖：

```bash
# 进入云函数目录
cd src/backend/group-chat-send-message

# 安装依赖
npm install

# 然后在微信开发者工具中右键部署
```

### 🔍 验证部署

部署完成后，您应该能够：

1. **在云函数列表中看到** `group-chat-send-message`
2. **测试群聊功能** - 发送消息应该不再出现 "handler not found" 错误
3. **查看云函数日志** - 确认函数能正常执行

### 📋 部署后的测试步骤

1. 在微信开发者工具中打开群聊页面
2. 尝试发送一条消息
3. 检查控制台是否还有错误
4. 确认消息能正常发送和显示

### ❗ 常见问题

**Q: 部署后仍然出现 "handler not found" 错误？**
A: 请检查：
- 云函数名称是否完全匹配
- 是否选择了正确的云开发环境
- 云函数是否显示为"已部署"状态

**Q: 依赖安装失败？**
A: 确保：
- 网络连接正常
- Node.js 版本兼容
- 在正确的目录下执行 npm install

### 🎯 下一步

部署成功后，群聊功能应该能够正常工作。如果仍有问题，请检查云函数日志以获取更详细的错误信息。
